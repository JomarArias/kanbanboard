<div class="kanban-column bg-gray-100 p-4 rounded-lg flex flex-col h-full max-h-screen">
    <div class="flex justify-between items-center mb-4">
        <h3 class="font-bold text-lg text-gray-700">{{ title }}</h3>
        <span class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-sm">{{ cards.length }}</span>
    </div>

    <div cdkDropList [id]="listId" [cdkDropListData]="cards" (cdkDropListDropped)="onDrop($event)"
        class="flex-1 overflow-y-auto min-h-[100px]">
        @for (card of cards; track card.id) {
        <div cdkDrag [cdkDragData]="card" class="mb-3">
            <app-kanban-card [card]="card" (edit)="onEditCard($event)"
                (delete)="onDeleteCard($event)"></app-kanban-card>
            <div *cdkDragPlaceholder
                class="bg-gray-200 border-2 border-dashed border-gray-400 min-h-[80px] rounded mb-3"></div>
        </div>
        }
    </div>

    <div class="mt-4">
        <p-button label="+ Agregar Tarea" styleClass="p-button-text w-full text-left justify-start"
            (onClick)="addCard.emit()"></p-button>
    </div>
</div>