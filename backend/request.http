# List cards in a list
GET http://localhost:3000/api/lists/todo/cards
###
GET http://localhost:3000/api/lists/inProgress/cards
###
GET http://localhost:3000/api/lists/done/cards
###

# List audit logs (latest first). Optional params: ?limit=100&offset=0
GET http://localhost:3000/api/audit-logs
###
GET http://localhost:3000/api/audit-logs?limit=20&offset=4

###

# Create card
POST http://localhost:3000/api/cards
Content-Type: application/json

{
  "listId": "todo",
  "title": "Mi tarjeta",
  "task": "Detalle de la tarea"
}

###

# Update card (replace ID)
PUT http://localhost:3000/cards/698ba0bbd1c5e3b15cb30507
Content-Type: application/json

{
  "title": "++++++++++++++++++++++++",
  "task": "*********************",
  "expectedVersion": 1
}

###

# Update card with stale version (expected 409 conflict)
PUT http://localhost:3000/cards/698ba0b8d1c5e3b15cb30504
Content-Type: application/json

{
  "title": "Solo es prueba",
  "task": "123456789",
  "expectedVersion": 0
}

###

# Mueve la carta hacia arriba (el destino tiene cartas)
PUT http://localhost:3000/cards/move
Content-Type: application/json

{
  "cardId": "698ba0bbd1c5e3b15cb30507",
  "listId": "inProgress",
  "prevOrder": null,
  "nextOrder": "0|i00007:"
}
###

# Mueve la carta hacia abajo (el destino tiene cartas)
PUT http://localhost:3000/cards/move
Content-Type: application/json

{
  "cardId": "REEMPLAZA_ID",
  "listId": "done",
  "prevOrder": "0|i0000f:",
  "nextOrder": null
}

###

# Inválido cuando el destino no está vacío (expected 400)
PUT http://localhost:3000/cards/move
Content-Type: application/json

{
  "cardId": "REEMPLAZA_ID",
  "listId": "done",
  "prevOrder": null,
  "nextOrder": null
}

###

# Delete card (replace ID)
DELETE http://localhost:3000/cards/REEMPLAZA_ID

###

# PUT: agregar/actualizar fecha de vencimiento (dueDate)
PUT http://localhost:3000/api/cards/698ba0bbd1c5e3b15cb30507
Content-Type: application/json

{
  "expectedVersion": 3,
  "dueDate": "2026-03-20T00:00:00.000Z"
}

###

# PUT: agregar/actualizar color de tarjeta (style)
PUT http://localhost:3000/api/cards/698ba0bbd1c5e3b15cb30507
Content-Type: application/json

{
  "expectedVersion": 4,
  "style": {
    "backgroundType": "color",
    "backgroundColor": "#FEF3C7"
  }
}

###

# PUT: agregar/actualizar labels con color y nombre
PUT http://localhost:3000/api/cards/698ba0bbd1c5e3b15cb30507
Content-Type: application/json

{
  "expectedVersion": 5,
  "labels": [
    {
      "id": "urgent",
      "name": "Urgente",
      "color": "#EF4444"
    },
    {
      "id": "backend",
      "name": "Backend",
      "color": "#3B82F6"
    }
  ]
}
